{
  "version": 3,
  "sources": ["../../@primeuix/forms/src/utils/index.ts", "../../@primeuix/forms/src/resolvers/zod/index.ts"],
  "sourcesContent": ["import { isObject } from '@primeuix/utils';\n\nexport const toValues = (value: any, name?: string) => {\n    if (name) {\n        return isObject(value) && Object.hasOwn(value, name) ? value : { [name]: value };\n    }\n\n    return value;\n};\n", "import { toValues } from '@primeuix/forms/utils';\nimport { isNotEmpty } from '@primeuix/utils';\nimport type { ParseParams, Schema } from 'zod';\nimport type { ResolverOptions, ResolverResult } from '..';\n\nexport const zodResolver =\n    <T extends Schema<any, any>>(schema: T, schemaOptions?: ParseParams, resolverOptions?: ResolverOptions) =>\n    async ({ values, name }: any): Promise<ResolverResult<T>> => {\n        const { sync = false, raw = false } = resolverOptions || {};\n\n        try {\n            const result = await schema[sync ? 'parse' : 'parseAsync'](values, schemaOptions);\n\n            return {\n                values: toValues(raw ? values : result, name),\n                errors: {}\n            };\n        } catch (e: any) {\n            if (Array.isArray(e?.issues || e?.errors)) {\n                return {\n                    values: toValues(raw ? values : undefined, name),\n                    errors: (e.issues || e.errors).reduce((acc: Record<string, any[]>, error: any) => {\n                        const pathKey = isNotEmpty(error.path) ? error.path.join('.') : name;\n\n                        if (pathKey) {\n                            acc[pathKey] ||= [];\n                            acc[pathKey].push(error);\n                        }\n\n                        return acc;\n                    }, {})\n                };\n            }\n\n            throw e;\n        }\n    };\n"],
  "mappings": ";;;;;;;;AAEO,IAAMA,KAAW,CAACC,GAAYC,MAC7BA,IACOC,EAASF,CAAK,KAAK,OAAO,OAAOA,GAAOC,CAAI,IAAID,IAAQ,EAAE,CAACC,CAAI,GAAGD,EAAM,IAG5EA;;;ACFJ,IAAMG,IACT,CAA6BC,GAAWC,GAA6BC,MACrE,OAAO,EAAE,QAAAC,IAAQ,MAAAC,EAAK,MAAuC;AACzD,MAAM,EAAE,MAAAC,IAAO,OAAO,KAAAC,IAAM,MAAM,IAAIJ,KAAmB,CAAC;AAE1D,MAAI;AACA,QAAMK,IAAS,MAAMP,EAAOK,IAAO,UAAU,YAAY,EAAEF,IAAQF,CAAa;AAEhF,WAAO,EACH,QAAQO,GAASF,IAAMH,KAASI,GAAQH,CAAI,GAC5C,QAAQ,CAAC,EACb;EACJ,SAASK,GAAQ;AACb,QAAI,MAAM,SAAQA,uBAAG,YAAUA,uBAAG,OAAM;AACpC,aAAO,EACH,QAAQD,GAASF,IAAMH,KAAS,QAAWC,CAAI,GAC/C,SAASK,EAAE,UAAUA,EAAE,QAAQ,OAAO,CAACC,GAA4BC,MAAe;AAC9E,YAAMC,IAAUC,EAAWF,EAAM,IAAI,IAAIA,EAAM,KAAK,KAAK,GAAG,IAAIP;AAEhE,eAAIQ,MACAF,gBAAiB,CAAC,IAClBA,EAAIE,CAAO,EAAE,KAAKD,CAAK,IAGpBD;MACX,GAAG,CAAC,CAAC,EACT;AAGJ,UAAMD;EACV;AACJ;",
  "names": ["toValues", "value", "name", "isObject", "zodResolver", "schema", "schemaOptions", "resolverOptions", "values", "name", "sync", "raw", "result", "toValues", "e", "acc", "error", "pathKey", "isNotEmpty"]
}
